#include <filesystem>
#include <sstream>
#include <tape_view.hpp>
#include <tape_pool.hpp>

////////////////////////////////////////////////////////////////////////////////
TapeView::TapeView(TapePool& owner, Tape& tape)
    : owner_{&owner}, tape_{&tape} {
}

////////////////////////////////////////////////////////////////////////////////
std::int32_t TapeView::read() {
  owner_->increaseReadsCnt();
  return tape_->read();
}

////////////////////////////////////////////////////////////////////////////////
void TapeView::write(std::int32_t x) {
  owner_->increaseWritesCnt();
  tape_->write(x);
}

////////////////////////////////////////////////////////////////////////////////
void TapeView::moveLeft(std::size_t i) {
  owner_->increaseMovesCnt(i);
  tape_->moveLeft(i);
}

////////////////////////////////////////////////////////////////////////////////
void TapeView::moveRight(std::size_t i) {
  owner_->increaseMovesCnt(i);
  tape_->moveRight(i);
}
