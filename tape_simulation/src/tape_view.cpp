#include <filesystem>
#include <sstream>
#include <tape_view.hpp>
#include <tape_pool.hpp>

////////////////////////////////////////////////////////////////////////////////
TapeView::TapeView(TapePool& owner, Tape& tape)
    : owner_{&owner}, tape_{&tape} {
}

////////////////////////////////////////////////////////////////////////////////
std::int32_t TapeView::read() {
  owner_->increaseReadsCnt();
  return tape_->read();
}

////////////////////////////////////////////////////////////////////////////////
void TapeView::write(std::int32_t x) {
  owner_->increaseWritesCnt();
  tape_->write(x);
}

////////////////////////////////////////////////////////////////////////////////
void TapeView::moveLeft() {
  owner_ ->increaseMovesCnt();
  tape_->moveLeft();
}

////////////////////////////////////////////////////////////////////////////////
void TapeView::moveRight() {
  owner_->increaseMovesCnt();
  tape_->moveRight();
}
